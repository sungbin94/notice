<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://kit.fontawesome.com/844acb7e4d.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="/css/notice/noticeMain.css">
  <link rel="stylesheet" href="/css/common/common.css">
  <title>GREAT 공지사항</title>
</head>

<body>

<div class="wrapper">
  <header class="header container">
    <nav class="top-menu content">
      <a href="" class="top-menu__name">관리자</a>
      <a href="" class="top-menu__logout">로그아웃</a>
      <a href="" class="top-menu__cs">고객센터</a>
    </nav>
    <div class="logo content"><a href="">GR<span>EAT</span></a></div>
    <nav class="bottom-menu content">
      <div class="category">
        <ul>
          <li class="food-category">업종별 카테고리
            <ul>
              <li><a href="">한식</a></li>
              <li><a href="">중식</a></li>
              <li><a href="">일식</a></li>
              <li><a href="">양식</a></li>
              <li><a href="">아시안식</a></li>
              <li><a href="">분식</a></li>
              <li><a href="">도시락</a></li>
              <li><a href="">카페/디저트</a></li>
            </ul>
          </li>
          <li class="region-category">지역별 카테고리
            <ul>
              <li><a href="">남구</a></li>
              <li><a href="">동구</a></li>
              <li><a href="">북구</a></li>
              <li><a href="">중구</a></li>
              <li><a href="">울주군</a></li>
            </ul>
          </li>
        </ul>
      </div>

      <div class="search">
        <input type="text" class="search__search-box" placeholder="  검색어를 입력하세요.">
        <a href="" class="search__search-icon"><i class="fa-solid fa-magnifying-glass"></i></a>
      </div>
    </nav>
  </header>
  <main class=" main-container">
    <div class="notice__board">
      <div class="notice-title width--800px">
        <h3><i class="bar"></i>공지사항</h3>
      </div>
      <!-- notice-board__list area -->
      <div id="notice-board__list">
        <div class="container">
          <table class="notice-board__table">
            <thead>
            <tr>

              <th>번호</th>
              <th>제목</th>
              <th>등록일</th>
              <th>작성자</th>
              <th>조회수</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="notice :${listForm}">

              <td class="noticeId" th:text="${notice.noticeId}">5</td>
              <td class="noticeTitle"><a
                  th:href="@{/notice/{id}(id=${notice.noticeId})}"
                  onclick="" href="#" th:text="${notice.title}"></a></td>
              <td class="noticeUdate" th:text="${{notice.udate}}">2022.08.08</td>
              <td>관리자</td>
              <td th:class="count" th:text="${notice.count}">10</td>
            </tr>
            </tbody>
          </table>

          <div class="btn__content">
            <button type="button" id="post__text-btn">글쓰기</button>

          </div>
          <div class="text__center">
            <ul class="pagination">
              <!--이전페이지정보-->
              <th:block th:if="${fc.prev}">
                <li>
                  <a class="notice-page-item" href=""
                     th:href="@{/notice/list/1/{searchType}/{keyword}(searchType=${fc.searchType},keyword=${fc.keyword})}">처음</a>
                </li>
                <li>
                  <a class="notice-page-item" href=""
                     th:href="@{/notice/list/{reqPage}/{searchType}/{keyword}(reqPage=${fc.startPage-1},searchType=${fc.searchType},keyword=${fc.keyword})}">이전</a>
                </li>
              </th:block>

              <!--페이지표시-->
              <th:block th:each="pnum : ${#numbers.sequence(fc.startPage,fc.endPage)}">
                <th:block th:if="${pnum != 0}">
                  <!--                  <a class="community-page-item" th:classappend="${fc.rc.reqPage == pnum} ? 'active'" href="" th:href="@{|/community/list/${pnum}|}" th:text="${pnum}">1</a>-->
                  <li>
                    <a class="community-page-item" th:classappend="${fc.rc.reqPage == pnum} ? 'active'" href=""
                       th:href="@{/notice/list/{reqPage}/{searchType}/{keyword}(reqPage=${pnum},searchType=${fc.searchType},keyword=${fc.keyword})}"
                       th:text="${pnum}">1</a>
                  </li>
                </th:block>
              </th:block>

              <!--다음페이지정보-->
              <th:block th:if="${fc.next}">
                <li>
                  <a class="community-page-item" href=""
                     th:href="@{/notice/list/{reqPage}/{searchType}/{keyword}(reqPage=${fc.endPage+1},searchType=${fc.searchType},keyword=${fc.keyword})}">
                    다음</a>
                </li>
                <li>
                  <a class="community-page-item" href=""
                     th:href="@{/notice/list/{reqPage}/{searchType}/{keyword}(reqPage=${fc.finalEndPage},searchType=${fc.searchType},keyword=${fc.keyword})}">
                    마지막</a>
                </li>
              </th:block>

            </ul>
          </div>
          <!-- notice-board__search  -->
          <div class="notice-board__search">
            <div class="notice-board__search-box">
              <div class="notice-board__search-setting">
                <select name="searchType" id="searchType" th:field="${fc.searchType}">
                  <option th:value="TC">제목+내용</option>
                  <option th:value="T">제목</option>
                  <option th:value="C">내용</option>
                </select>
              </div>
              <div class="notice-board__search-keyword">
                <input type="text" id="keyword" name="keyword" th:field="${fc.keyword}">
                <button id="searchBtn" type="button"><i class="fa-solid fa-magnifying-glass">검색</i></button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
  <!--Basic structure of footer-->
  <footer class="footer">
    <!--The main area of the footer -->
    <div class="footer-content">
      <a href="">GR<span>EAT</span></a>
      <p>이 페이지는 울산지역의 한정으로 만들어진 사이트입니다. 서비스를 이용하시는 모든 회원분들 이용에 감사드립니다. 더더욱 발전하는 GREAT이 되겠습니다. </p>
      <!--Footer's social icon-->
      <ul class="socials">
        <li><a href="#"><i class="fa fa-facebook"></i></a></li>
        <li><a href="#"><i class="fa fa-google-plus"></i></a></li>
        <li><a href="#"><i class="fa fa-youtube"></i></a></li>
      </ul>
      <p>GREAT센터 365일 오전 10시 - 오후 6시</p>
      <!-- Footer's menu item-->
      <div class="footer-menu">
        <ul class="f-menu">
          <li><a onclick="location.href='notice board-main.html'" href="">Home</a></li>
          <li><a onclick="location.href='notice board-view.html'" href="">Join</a></li>
          <li><a onclick="location.href='notice board-view.html'" href="">Order</a></li>
          <li><a onclick="location.href='notice board-main.html'" href="">Notice</a></li>
        </ul>
      </div>
    </div>
    <!--Copyright Area-->
    <div class="footer-bottom">
      <p>Design By - <a href="#">365 Team Project</a></p>
      <p>tell :<a href="">1501-1501</a></p>
    </div>
  </footer>
</div>
<script>
    const $postBtn = document.getElementById('post__text-btn');
    $postBtn.addEventListener('click', e => {
      location.href = '/notice/write';
    });

    const allChkClick_h = e => {
      console.log(`click : ${e.target}`);

      const $choose = document.querySelectorAll('.notice-board__table input[type=checkbox]')
      console.log($choose);


  //검색
  const $searchType = document.getElementById('searchType');
  const $keyword    = document.getElementById('keyword');
  const $searchBtn  = document.getElementById('searchBtn');

  //검색 버튼 클릭시
  $searchBtn?.addEventListener('click', search_f);

  //키워드 입력필드에 엔터키 눌렀을때 검색
  $keyword?.addEventListener('keydown', e=>{
      if(e.key === 'Enter') {
          search_f(e);
      }
  });

  function search_f(e){
      //검색어입력 유무체크
      if($keyword.value.trim().length === 0){
         alert('검색어를 입력하세요');
         $keyword.focus();$keyword.select(); //커서이동
         return false;
      }
      const url = `/notice/list/1/${$searchType.value}/${$keyword.value}`;
      location.href = url;
  }
</script>
</body>
</html>